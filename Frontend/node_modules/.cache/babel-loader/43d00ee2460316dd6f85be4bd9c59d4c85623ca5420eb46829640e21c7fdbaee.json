{"ast":null,"code":"export const testAudioNodeDisconnectMethodSupport = (nativeAudioContext, nativeAudioWorkletNodeConstructor) => {\n  return new Promise(resolve => {\n    /*\n     * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n     * constructor for an AudioWorkletNode can be used here to skip the test.\n     */\n    if (nativeAudioWorkletNodeConstructor !== null) {\n      resolve(true);\n    } else {\n      const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n      const dummy = nativeAudioContext.createGain();\n      // Bug #95: Safari does not play one sample buffers.\n      const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n      const channelData = ones.getChannelData(0);\n      channelData[0] = 1;\n      channelData[1] = 1;\n      const source = nativeAudioContext.createBufferSource();\n      source.buffer = ones;\n      source.loop = true;\n      source.connect(analyzer).connect(nativeAudioContext.destination);\n      source.connect(dummy);\n      source.disconnect(dummy);\n      // tslint:disable-next-line:deprecation\n      analyzer.onaudioprocess = event => {\n        const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n        if (Array.prototype.some.call(chnnlDt, sample => sample === 1)) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n        source.stop();\n        analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n        source.disconnect(analyzer);\n        analyzer.disconnect(nativeAudioContext.destination);\n      };\n      source.start();\n    }\n  });\n};","map":{"version":3,"names":["testAudioNodeDisconnectMethodSupport","nativeAudioContext","nativeAudioWorkletNodeConstructor","Promise","resolve","analyzer","createScriptProcessor","dummy","createGain","ones","createBuffer","channelData","getChannelData","source","createBufferSource","buffer","loop","connect","destination","disconnect","onaudioprocess","event","chnnlDt","inputBuffer","Array","prototype","some","call","sample","stop","start"],"sources":["C:/Users/Santosh Lade/Desktop/MERN App/client/node_modules/standardized-audio-context/build/es2019/helpers/test-audio-node-disconnect-method-support.js"],"sourcesContent":["export const testAudioNodeDisconnectMethodSupport = (nativeAudioContext, nativeAudioWorkletNodeConstructor) => {\n    return new Promise((resolve) => {\n        /*\n         * This bug existed in Safari up until v14.0.2. Since AudioWorklets were not supported in Safari until v14.1 the presence of the\n         * constructor for an AudioWorkletNode can be used here to skip the test.\n         */\n        if (nativeAudioWorkletNodeConstructor !== null) {\n            resolve(true);\n        }\n        else {\n            const analyzer = nativeAudioContext.createScriptProcessor(256, 1, 1); // tslint:disable-line deprecation\n            const dummy = nativeAudioContext.createGain();\n            // Bug #95: Safari does not play one sample buffers.\n            const ones = nativeAudioContext.createBuffer(1, 2, 44100);\n            const channelData = ones.getChannelData(0);\n            channelData[0] = 1;\n            channelData[1] = 1;\n            const source = nativeAudioContext.createBufferSource();\n            source.buffer = ones;\n            source.loop = true;\n            source.connect(analyzer).connect(nativeAudioContext.destination);\n            source.connect(dummy);\n            source.disconnect(dummy);\n            // tslint:disable-next-line:deprecation\n            analyzer.onaudioprocess = (event) => {\n                const chnnlDt = event.inputBuffer.getChannelData(0); // tslint:disable-line deprecation\n                if (Array.prototype.some.call(chnnlDt, (sample) => sample === 1)) {\n                    resolve(true);\n                }\n                else {\n                    resolve(false);\n                }\n                source.stop();\n                analyzer.onaudioprocess = null; // tslint:disable-line:deprecation\n                source.disconnect(analyzer);\n                analyzer.disconnect(nativeAudioContext.destination);\n            };\n            source.start();\n        }\n    });\n};\n//# sourceMappingURL=test-audio-node-disconnect-method-support.js.map"],"mappings":"AAAA,OAAO,MAAMA,oCAAoC,GAAGA,CAACC,kBAAkB,EAAEC,iCAAiC,KAAK;EAC3G,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAK;IAC5B;AACR;AACA;AACA;IACQ,IAAIF,iCAAiC,KAAK,IAAI,EAAE;MAC5CE,OAAO,CAAC,IAAI,CAAC;IACjB,CAAC,MACI;MACD,MAAMC,QAAQ,GAAGJ,kBAAkB,CAACK,qBAAqB,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;MACtE,MAAMC,KAAK,GAAGN,kBAAkB,CAACO,UAAU,CAAC,CAAC;MAC7C;MACA,MAAMC,IAAI,GAAGR,kBAAkB,CAACS,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC;MACzD,MAAMC,WAAW,GAAGF,IAAI,CAACG,cAAc,CAAC,CAAC,CAAC;MAC1CD,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;MAClBA,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC;MAClB,MAAME,MAAM,GAAGZ,kBAAkB,CAACa,kBAAkB,CAAC,CAAC;MACtDD,MAAM,CAACE,MAAM,GAAGN,IAAI;MACpBI,MAAM,CAACG,IAAI,GAAG,IAAI;MAClBH,MAAM,CAACI,OAAO,CAACZ,QAAQ,CAAC,CAACY,OAAO,CAAChB,kBAAkB,CAACiB,WAAW,CAAC;MAChEL,MAAM,CAACI,OAAO,CAACV,KAAK,CAAC;MACrBM,MAAM,CAACM,UAAU,CAACZ,KAAK,CAAC;MACxB;MACAF,QAAQ,CAACe,cAAc,GAAIC,KAAK,IAAK;QACjC,MAAMC,OAAO,GAAGD,KAAK,CAACE,WAAW,CAACX,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,IAAIY,KAAK,CAACC,SAAS,CAACC,IAAI,CAACC,IAAI,CAACL,OAAO,EAAGM,MAAM,IAAKA,MAAM,KAAK,CAAC,CAAC,EAAE;UAC9DxB,OAAO,CAAC,IAAI,CAAC;QACjB,CAAC,MACI;UACDA,OAAO,CAAC,KAAK,CAAC;QAClB;QACAS,MAAM,CAACgB,IAAI,CAAC,CAAC;QACbxB,QAAQ,CAACe,cAAc,GAAG,IAAI,CAAC,CAAC;QAChCP,MAAM,CAACM,UAAU,CAACd,QAAQ,CAAC;QAC3BA,QAAQ,CAACc,UAAU,CAAClB,kBAAkB,CAACiB,WAAW,CAAC;MACvD,CAAC;MACDL,MAAM,CAACiB,KAAK,CAAC,CAAC;IAClB;EACJ,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}