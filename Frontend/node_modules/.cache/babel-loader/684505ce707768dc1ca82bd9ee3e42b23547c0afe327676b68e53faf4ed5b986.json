{"ast":null,"code":"import { testPromiseSupport } from '../helpers/test-promise-support';\nexport const createRenderNativeOfflineAudioContext = (cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, testOfflineAudioContextCurrentTimeSupport) => {\n  return nativeOfflineAudioContext => {\n    // Bug #21: Safari does not support promises yet.\n    if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n      // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n      return Promise.resolve(cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)).then(isOfflineAudioContextCurrentTimeSupported => {\n        if (!isOfflineAudioContextCurrentTimeSupported) {\n          const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n          nativeOfflineAudioContext.oncomplete = () => {\n            scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n            scriptProcessorNode.disconnect();\n          };\n          scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n          scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n        }\n        return nativeOfflineAudioContext.startRendering();\n      });\n    }\n    return new Promise(resolve => {\n      // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n      const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n        channelCount: 1,\n        channelCountMode: 'explicit',\n        channelInterpretation: 'discrete',\n        gain: 0\n      });\n      nativeOfflineAudioContext.oncomplete = event => {\n        gainNode.disconnect();\n        resolve(event.renderedBuffer);\n      };\n      gainNode.connect(nativeOfflineAudioContext.destination);\n      nativeOfflineAudioContext.startRendering();\n    });\n  };\n};","map":{"version":3,"names":["testPromiseSupport","createRenderNativeOfflineAudioContext","cacheTestResult","createNativeGainNode","createNativeScriptProcessorNode","testOfflineAudioContextCurrentTimeSupport","nativeOfflineAudioContext","Promise","resolve","then","isOfflineAudioContextCurrentTimeSupported","scriptProcessorNode","oncomplete","onaudioprocess","disconnect","currentTime","connect","destination","startRendering","gainNode","channelCount","channelCountMode","channelInterpretation","gain","event","renderedBuffer"],"sources":["C:/Users/Santosh Lade/Desktop/MERN App/client/node_modules/standardized-audio-context/build/es2019/factories/render-native-offline-audio-context.js"],"sourcesContent":["import { testPromiseSupport } from '../helpers/test-promise-support';\nexport const createRenderNativeOfflineAudioContext = (cacheTestResult, createNativeGainNode, createNativeScriptProcessorNode, testOfflineAudioContextCurrentTimeSupport) => {\n    return (nativeOfflineAudioContext) => {\n        // Bug #21: Safari does not support promises yet.\n        if (cacheTestResult(testPromiseSupport, () => testPromiseSupport(nativeOfflineAudioContext))) {\n            // Bug #158: Chrome and Edge do not advance currentTime if it is not accessed while rendering the audio.\n            return Promise.resolve(cacheTestResult(testOfflineAudioContextCurrentTimeSupport, testOfflineAudioContextCurrentTimeSupport)).then((isOfflineAudioContextCurrentTimeSupported) => {\n                if (!isOfflineAudioContextCurrentTimeSupported) {\n                    const scriptProcessorNode = createNativeScriptProcessorNode(nativeOfflineAudioContext, 512, 0, 1);\n                    nativeOfflineAudioContext.oncomplete = () => {\n                        scriptProcessorNode.onaudioprocess = null; // tslint:disable-line:deprecation\n                        scriptProcessorNode.disconnect();\n                    };\n                    scriptProcessorNode.onaudioprocess = () => nativeOfflineAudioContext.currentTime; // tslint:disable-line:deprecation\n                    scriptProcessorNode.connect(nativeOfflineAudioContext.destination);\n                }\n                return nativeOfflineAudioContext.startRendering();\n            });\n        }\n        return new Promise((resolve) => {\n            // Bug #48: Safari does not render an OfflineAudioContext without any connected node.\n            const gainNode = createNativeGainNode(nativeOfflineAudioContext, {\n                channelCount: 1,\n                channelCountMode: 'explicit',\n                channelInterpretation: 'discrete',\n                gain: 0\n            });\n            nativeOfflineAudioContext.oncomplete = (event) => {\n                gainNode.disconnect();\n                resolve(event.renderedBuffer);\n            };\n            gainNode.connect(nativeOfflineAudioContext.destination);\n            nativeOfflineAudioContext.startRendering();\n        });\n    };\n};\n//# sourceMappingURL=render-native-offline-audio-context.js.map"],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,iCAAiC;AACpE,OAAO,MAAMC,qCAAqC,GAAGA,CAACC,eAAe,EAAEC,oBAAoB,EAAEC,+BAA+B,EAAEC,yCAAyC,KAAK;EACxK,OAAQC,yBAAyB,IAAK;IAClC;IACA,IAAIJ,eAAe,CAACF,kBAAkB,EAAE,MAAMA,kBAAkB,CAACM,yBAAyB,CAAC,CAAC,EAAE;MAC1F;MACA,OAAOC,OAAO,CAACC,OAAO,CAACN,eAAe,CAACG,yCAAyC,EAAEA,yCAAyC,CAAC,CAAC,CAACI,IAAI,CAAEC,yCAAyC,IAAK;QAC9K,IAAI,CAACA,yCAAyC,EAAE;UAC5C,MAAMC,mBAAmB,GAAGP,+BAA+B,CAACE,yBAAyB,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;UACjGA,yBAAyB,CAACM,UAAU,GAAG,MAAM;YACzCD,mBAAmB,CAACE,cAAc,GAAG,IAAI,CAAC,CAAC;YAC3CF,mBAAmB,CAACG,UAAU,CAAC,CAAC;UACpC,CAAC;UACDH,mBAAmB,CAACE,cAAc,GAAG,MAAMP,yBAAyB,CAACS,WAAW,CAAC,CAAC;UAClFJ,mBAAmB,CAACK,OAAO,CAACV,yBAAyB,CAACW,WAAW,CAAC;QACtE;QACA,OAAOX,yBAAyB,CAACY,cAAc,CAAC,CAAC;MACrD,CAAC,CAAC;IACN;IACA,OAAO,IAAIX,OAAO,CAAEC,OAAO,IAAK;MAC5B;MACA,MAAMW,QAAQ,GAAGhB,oBAAoB,CAACG,yBAAyB,EAAE;QAC7Dc,YAAY,EAAE,CAAC;QACfC,gBAAgB,EAAE,UAAU;QAC5BC,qBAAqB,EAAE,UAAU;QACjCC,IAAI,EAAE;MACV,CAAC,CAAC;MACFjB,yBAAyB,CAACM,UAAU,GAAIY,KAAK,IAAK;QAC9CL,QAAQ,CAACL,UAAU,CAAC,CAAC;QACrBN,OAAO,CAACgB,KAAK,CAACC,cAAc,CAAC;MACjC,CAAC;MACDN,QAAQ,CAACH,OAAO,CAACV,yBAAyB,CAACW,WAAW,CAAC;MACvDX,yBAAyB,CAACY,cAAc,CAAC,CAAC;IAC9C,CAAC,CAAC;EACN,CAAC;AACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}