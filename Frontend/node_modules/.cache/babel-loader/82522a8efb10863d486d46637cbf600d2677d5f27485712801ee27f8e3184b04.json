{"ast":null,"code":"export const createUnhandledRejection = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n  return coolingOffPeriod => wrapSubscribeFunction(observer => {\n    if (window === null || window.clearInterval === undefined || window.setInterval === undefined) {\n      return emitNotSupportedError(observer);\n    }\n    const possiblyUnhandledRejections = new Map();\n    let intervalId = null;\n    const deletePossiblyUnhandledRejection = ({\n      promise\n    }) => possiblyUnhandledRejections.delete(promise);\n    const emitUnhandledRejection = () => {\n      const latestTimestampToEmit = Date.now() - coolingOffPeriod;\n      possiblyUnhandledRejections.forEach(({\n        reason,\n        timestamp\n      }, promise) => {\n        if (timestamp > latestTimestampToEmit) {\n          return;\n        }\n        possiblyUnhandledRejections.delete(promise);\n        observer.next(reason);\n      });\n      if (intervalId !== null && possiblyUnhandledRejections.size === 0) {\n        window.clearInterval(intervalId);\n        intervalId = null;\n      }\n    };\n    const registerPossiblyUnhandledRejection = event => {\n      event.preventDefault();\n      possiblyUnhandledRejections.set(event.promise, {\n        reason: event.reason,\n        timestamp: Date.now()\n      });\n      if (intervalId === null) {\n        intervalId = window.setInterval(emitUnhandledRejection, coolingOffPeriod / 2);\n      }\n    };\n    window.addEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n    window.addEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n    return () => {\n      if (intervalId !== null) {\n        window.clearInterval(intervalId);\n      }\n      window.removeEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n      window.removeEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n    };\n  });\n};","map":{"version":3,"names":["createUnhandledRejection","emitNotSupportedError","window","wrapSubscribeFunction","coolingOffPeriod","observer","clearInterval","undefined","setInterval","possiblyUnhandledRejections","Map","intervalId","deletePossiblyUnhandledRejection","promise","delete","emitUnhandledRejection","latestTimestampToEmit","Date","now","forEach","reason","timestamp","next","size","registerPossiblyUnhandledRejection","event","preventDefault","set","addEventListener","removeEventListener"],"sources":["C:/Users/Santosh Lade/Desktop/MERN App/client/node_modules/subscribable-things/build/es2019/factories/unhandled-rejection.js"],"sourcesContent":["export const createUnhandledRejection = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (coolingOffPeriod) => wrapSubscribeFunction((observer) => {\n        if (window === null || window.clearInterval === undefined || window.setInterval === undefined) {\n            return emitNotSupportedError(observer);\n        }\n        const possiblyUnhandledRejections = new Map();\n        let intervalId = null;\n        const deletePossiblyUnhandledRejection = ({ promise }) => possiblyUnhandledRejections.delete(promise);\n        const emitUnhandledRejection = () => {\n            const latestTimestampToEmit = Date.now() - coolingOffPeriod;\n            possiblyUnhandledRejections.forEach(({ reason, timestamp }, promise) => {\n                if (timestamp > latestTimestampToEmit) {\n                    return;\n                }\n                possiblyUnhandledRejections.delete(promise);\n                observer.next(reason);\n            });\n            if (intervalId !== null && possiblyUnhandledRejections.size === 0) {\n                window.clearInterval(intervalId);\n                intervalId = null;\n            }\n        };\n        const registerPossiblyUnhandledRejection = (event) => {\n            event.preventDefault();\n            possiblyUnhandledRejections.set(event.promise, {\n                reason: event.reason,\n                timestamp: Date.now()\n            });\n            if (intervalId === null) {\n                intervalId = window.setInterval(emitUnhandledRejection, coolingOffPeriod / 2);\n            }\n        };\n        window.addEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n        window.addEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n        return () => {\n            if (intervalId !== null) {\n                window.clearInterval(intervalId);\n            }\n            window.removeEventListener('rejectionhandled', deletePossiblyUnhandledRejection);\n            window.removeEventListener('unhandledrejection', registerPossiblyUnhandledRejection);\n        };\n    });\n};\n//# sourceMappingURL=unhandled-rejection.js.map"],"mappings":"AAAA,OAAO,MAAMA,wBAAwB,GAAGA,CAACC,qBAAqB,EAAEC,MAAM,EAAEC,qBAAqB,KAAK;EAC9F,OAAQC,gBAAgB,IAAKD,qBAAqB,CAAEE,QAAQ,IAAK;IAC7D,IAAIH,MAAM,KAAK,IAAI,IAAIA,MAAM,CAACI,aAAa,KAAKC,SAAS,IAAIL,MAAM,CAACM,WAAW,KAAKD,SAAS,EAAE;MAC3F,OAAON,qBAAqB,CAACI,QAAQ,CAAC;IAC1C;IACA,MAAMI,2BAA2B,GAAG,IAAIC,GAAG,CAAC,CAAC;IAC7C,IAAIC,UAAU,GAAG,IAAI;IACrB,MAAMC,gCAAgC,GAAGA,CAAC;MAAEC;IAAQ,CAAC,KAAKJ,2BAA2B,CAACK,MAAM,CAACD,OAAO,CAAC;IACrG,MAAME,sBAAsB,GAAGA,CAAA,KAAM;MACjC,MAAMC,qBAAqB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGd,gBAAgB;MAC3DK,2BAA2B,CAACU,OAAO,CAAC,CAAC;QAAEC,MAAM;QAAEC;MAAU,CAAC,EAAER,OAAO,KAAK;QACpE,IAAIQ,SAAS,GAAGL,qBAAqB,EAAE;UACnC;QACJ;QACAP,2BAA2B,CAACK,MAAM,CAACD,OAAO,CAAC;QAC3CR,QAAQ,CAACiB,IAAI,CAACF,MAAM,CAAC;MACzB,CAAC,CAAC;MACF,IAAIT,UAAU,KAAK,IAAI,IAAIF,2BAA2B,CAACc,IAAI,KAAK,CAAC,EAAE;QAC/DrB,MAAM,CAACI,aAAa,CAACK,UAAU,CAAC;QAChCA,UAAU,GAAG,IAAI;MACrB;IACJ,CAAC;IACD,MAAMa,kCAAkC,GAAIC,KAAK,IAAK;MAClDA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtBjB,2BAA2B,CAACkB,GAAG,CAACF,KAAK,CAACZ,OAAO,EAAE;QAC3CO,MAAM,EAAEK,KAAK,CAACL,MAAM;QACpBC,SAAS,EAAEJ,IAAI,CAACC,GAAG,CAAC;MACxB,CAAC,CAAC;MACF,IAAIP,UAAU,KAAK,IAAI,EAAE;QACrBA,UAAU,GAAGT,MAAM,CAACM,WAAW,CAACO,sBAAsB,EAAEX,gBAAgB,GAAG,CAAC,CAAC;MACjF;IACJ,CAAC;IACDF,MAAM,CAAC0B,gBAAgB,CAAC,kBAAkB,EAAEhB,gCAAgC,CAAC;IAC7EV,MAAM,CAAC0B,gBAAgB,CAAC,oBAAoB,EAAEJ,kCAAkC,CAAC;IACjF,OAAO,MAAM;MACT,IAAIb,UAAU,KAAK,IAAI,EAAE;QACrBT,MAAM,CAACI,aAAa,CAACK,UAAU,CAAC;MACpC;MACAT,MAAM,CAAC2B,mBAAmB,CAAC,kBAAkB,EAAEjB,gCAAgC,CAAC;MAChFV,MAAM,CAAC2B,mBAAmB,CAAC,oBAAoB,EAAEL,kCAAkC,CAAC;IACxF,CAAC;EACL,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}